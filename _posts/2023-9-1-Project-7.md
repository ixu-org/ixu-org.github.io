---
title: TCP/IP text
date: 2023-09-01 00:00:00 -500
categories: [TCP, schoolwork]
tags: [historical, networking, protocols]
---

# Introduction to the History and Mechanics of TCP/IP

---

While the Internet evolved as an indispensable tool for large institutions and governmental organizations, rapid advancements in data communication technologies unfolded.

<div align="center">

---

</div>

>The technological practices and the use of networked communications were not an unfamiliar concept for the time. Rudimentary implementations of electrical data exchange were first introduced with the early telegraphs, which encoded the information into a transmittable medium, then later with telephones with their manual and automated circuit-switching.

<div align="center">

<img src="https://cdn.discordapp.com/attachments/608041449421799426/1146172435314511892/RSp1IiGm4CRn-pp5jxdt1KHa4-jXCQmzU5iM6Tkf1fE8oUJWsrkAKYYU0ld_lZbMvQ8jHJhekoJ1MBJZz2g53fFC8Gk6fzFv-SNYCdo6hB3NNN5_nMt5dywFkFIi31_o1pn_IxaI4S1libZpUyo0Aom1NqsQmDoNDYtFRcbMrllztAt_ZgZtkEsYpDhTmU86vY7Ag2MC736qMAKQSXjP.png" />


---
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1146180052552265808/ROxHQkf0443Vvol6VSyFN51COa31MqjDwOEAJ99fih3PjPjPH4h_lPiKYb3dSUQSmom78I-XDp2JZdl6saj2VSKU06ODlslBcBwMk_F-RLFcQpoaGLnFmWtkhrhghdBaczClMnRRudczUohEAHvADdpft9XuH6JtH7O2e9QjeBhJ5DA0wTz3DXqoW8Q4AXeOrN-oWOoveRkmdnvq_cWV.png" />





</div>

## A Pioneering Venture: ARPANET and Its Inception

The initial concept for a fault-tolerant, decentralized network system for communication was brought forward by the U.S. Department of Defense in the early to mid-1960s. Thereafter, theoretical research into distributed communication technology proceeded rapidly and derived crucial insight from notable research papers such as J.C.R. Licklider’s seminal paper "Man-Computer Symbiosis" (1960) and a later one entitled "The Computer as a Communication Device" (1968) which he had co-written with Robert W. Taylor.

**RFQ and Contract Award**: The formal Request for Quotations (RFQ) for the ARPANET was initiated in July of 1968 by the United States Department of Defense's Advanced Research Projects Agency (ARPA). Interested companies would evaluate and propose their manufacturing and R&D specialties (Research and Development). The contract was awarded to Bolt, Beranek, and Newman Inc. (BBN) in 1969 upon impressing the evaluation committee with their technical prowess and their prior experience with digital time-sharing systems.  

Not long after, first solid proof of concept and a working prototype was successfully tested at UCLA (University of California, Los Angeles) with their existing host computer Sigma 7 and BBN’s packed switching node “IMP” (Interface Message Processor). This would be the first entry into standardization and centralization of interconnected “things”.  

<div align="center">
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1146223919876014151/RO-n2i90343tV4MyKUWiI2aL5mN5GdMxvNgDxUbTAcsaWlZlNWK7mGTP7Y-4v8EONkx1mqnQ2eIsbyI4YdemtdTZS0_73G1qrOMieDhk2uLcG1Tk40UNg1aHvryq5yPUIQ8UHYUsZUkQkQlfjmEO7AfeDuVogBbqJJ2uK9Ycf_LkbMNuX1TyRgI9fxCasPyQ9dBYEhxm1W00.png" />
<img src="https://media.discordapp.net/attachments/608041449421799426/1146219494407159818/9O_1IiD054Ntxokk7o3IZT9Gf2622kB2wWUCwMqpP6PUVNbZVzy9RYvtTyxPBnxCQqvounCpCPhVXlnD4rdcM62wK4IAEc7nFBdiHZtoKV0PFR43NdHn7FJars0KzDKdjGu7voync8upJV1Q6Ycbu55BXw_XhHSy1ISUq5yi9coszriHlDElQZFMYUMCPzDwmGT_AXlcf8P1SsRn3XlP.png" />


---
### Realization of a Vision and Network Expansion  

</div>

#### Licklider's Vision and Academic Collaboration

Collaborative work between multiple academic institutions and the now contracted highly skilled pioneers of BBN would see the goal of achieving a major developmental leap towards actualizing Licklider’s vision, which served as an early architectural framework that evolved into what is now contemporarily referred to as “Cloud Computing”.  

#### ARPANet's Inception and NCP's Role (1969-1970)

Initiated between late 1969 and early 1970, ARPAnet's transformative potential gained recognition across the United States, leading to an expansive array of interconnected hardware infrastructure.  
From its early inception, the Network Control Protocol (NCP) was developed to address the urgent requirement for standardized communication methods.  

This provided a base transport layer of the protocol stack, being responsible for packet transportation between two communicating host systems.  




#### Initial Success and Subsequent Limitations (Post-1970)
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1146253933824712765/JOv1JyCm38Nl_XMcd2CnEWrnszW592GcocvSl3MqaP8K9Ox6poUPsoaNo-zzUSxRHgR0oLcuur4xZUV0Yjn91o1hfuipVyOF011v2ZHeR11Nzz_-k7_VDKWHqzbI1Hypm-xpxSfYC1Lg2phkkvSv5q_rKLnVyTVkLJ3J2E2dFiFE38xmgPdby_fXMTlDRJry779-bJMKIgY26KPMLLhi.png" />  

> *From 1970, packet switching via NCP effectively served the data transmission needs among the four major university nodes along the U.S. west coast.*  

<img src="https://cdn.discordapp.com/attachments/608041449421799426/1146263616203522160/TP7VIiCm5CRl-nI7UgDGGvF6_haGzaU4GGV3kWSushGBYuaasTpUtZHJGT108Fbzvpld2vavZzOVtbHo4k6mkoxpF0lx9Xcjx3Tm3zuUHBmyoADqqkZ0Yk8YovDGl_5HYe-DST87ydn-5u4-Xgh-MsZHJuKDuNLJiPBzSAF78DpIF2UigUighwEqnb7BGRwY_ngHk1tsOWese78YAJZ9.png" />  

> *Locations of the 4 initial nodes.*  
At that point, the type of data was reasonably simple, mostly consisting of internal messages and small sets of data.

#### Stateless Design Pitfall

However, as the network grew in complexity and began to cover additional nodes aswell as their respective networks, several issues arose:

- **Scaling Challenges**: Increasing distances and node counts rapidly highlighted NCP's limitations.
  
- **Content-Type Evolution**: New types of content began stressing NCP's capabilities, exposing its shortcomings.

- **Noise and Scalability**: The protocol’s susceptibility to noise and scalability constraints became evident as the network grew beyond the original four nodes on the west coast.
- **Reliability and Error Handling**: NCP had no end-to-end error control mechanisms, meaning that any packet loss or errors during transmission would lead to an immediate collapse of the NCP session, rendering the connection to the host computer unusable until manual restoration would take place.  


By design, NCP was a stateless communication protocol, eliminating the possibility for either party to verify the successful transmission and arrival of packets at their intended destinations. Erroneously received packets would cause
Albeit, NCP did have some “stateful” features concerning the initial connection’s handshake up to the point of stating the start of an emitted datastream.   

<img src="https://media.discordapp.net/attachments/608041449421799426/1148369171760037948/RSv1Jkim4CRnlKynhwjNYN805gYLKr041DHqsOrhVos6U2pPKxf0t9qeJPKKs5aQ_sR-yomcoI4qwf-y8e1iafa9MoGbNXfGfL-e5YEWmfjzCa6fk7s35PeKPQsVgsgfryjYmnCocPpFDZB32Xnzgj8rk2AEb96pZtojlWRUsxAwxt4lFUzRkZWQtpqN-e5sCPsdVsyP2iRd2oE691dE-1.png" />  
  

> *Host-to-host communication using NCP.*  

Furthermore, when a computer tried to connect to ARPAnet that was outside the preregistered node, would the network protocol cause that specific system’s networking functionality to fail. This was due to NCP’s inherently rigid design, which did not take in account unregistered acting nodes not residing in predefined networks.   

---
### The Advent of TCP and the Ideological Shift to Open Architecture Networking  
As multitude of industries started shifting towards standardization of technologies, would it permit more free collaborative work between separate R&D entities to effectively overcome technological shortcoming in an unforeseen pace. This transformation in return reinforced the emphasis of interoperability between technologies,  a concept that would become a cornerstone in the development of the Transmission Control Protocol (TCP).
<div align="center">

<img src="https://cdn.discordapp.com/attachments/608041449421799426/1148371093845983273/4944265_orig-1.jpg" />
</div>

---
### Flag Day  
#### January 1, 1983  
While ARPANET’s predominant network protocol (NCP) was groundbreaking in its time, it was fundamentally constrained by its stateless architecture. Growth of the network drove more and more intricate technologies to be built on top of the existing protocol stack, a stack which did not always quarantee the stability, nor the efficiency that was needed of it.  

Fortunately, those limitations were acknowledged in sure time shortly after the first major expansion of the ARPANET network. Been under active refinement since 1974, TCP emerged as a robust and efficient successor, a well-suited to supplant NCP as the primary networking protocol.  

---
## *Statefully* stark contrast  
>This new protocol would be stateful, meaning that it also maintains information about past interactions. 

- **Statelessness to Statefulness**: Introduced a robust connection model which quaranteed the packet’s succesful delivery to target. This meant that the information flow had a structured lifecycle.
  
- **Modularity and Scalability**: New algorithms and hiararchical addressing for dynamic routing. The protocol was more advanced and modular than its predecessor, making it easier to develop application modules for it.

- **Error Correction and Flow Control**: Introduction of checksums for data integrity and acknowledgements for reliable data delivery. Bandwidth optimizations and utilization based on nework conditioning were also implemented.  

- **Reliability and Error Handling**:   Embedded sequence number, making it possible to request only the corrupted or missing packets from a stream. This way the whole stream wouldn’t need to be retransmitted. Additionally, packets would also incorporate more describing data, metadata, to ensure better handling across its lifecycle.  

Given the new way of segmenting packets with each their own metadata, it would allow multiple streams of data to multiple peers take place. This would be called multiplexing in the domain of simultaneous information exchange between multiple nodes.  

---

## **Technical details and fundamentals of TCP**  
> Let’s abstract the architechtural framework of TCP/IP by juxtaposing it with a more recognizable OSI-model.  

<img src="https://cdn.discordapp.com/attachments/608041449421799426/1160343082957549598/pPLDZvim48Rl_8gHUwxuJ5Ar16q2oIeI2eYmbutsu0MJeAK6WQjsM_M_ruQGmgf12LMb-c0np3lpOEiTSLSnNB8ldpCfJWybBevmW1zIyxIN04fCN-AqX3aWDq3IqoU9vZ6fKqbEMPL-9oAdJX5_KnrnKOT5XbFAo3TMLv3u82hu4nB52k91Xfz9ngMc6IwMxWgMNk2iWZdYINlbkcse.png" />  

Let’s condense the functionality of each layer of the TCP/IP framework.  

- #### Application Layer:  
Handles the Protocol Data Units (PDUs) of each established instance.  
This includes management and formatting of end-user interface functionality, aswell as capsulation processes for higher level protocols, such as HTTP and FTP.

- #### Transport Layer:  
Manages end-to-end communication, data segmentation, and error checking.  
This is the layer which processes the bi-directional encapsulation, aswell as decapsulation of base-protocol manifesting as TCP and UDP segments.  
The layer also dictates the featured parameters embedded in base-protocol’s metadata.  
Error checking and flow control are also notable functions employed in here.  

- #### Network Layer:  
Tasked with packet forwarding and routing, this layer deals in logical addressing of hosts. Operations relating to protocol ***IP*** from the ***TCP/IP*** stack happen here.  
IP stands for “Internet Protocol”, and it governs over establishing of logical data paths over the networks.  
Network Address Translation (NAT) would be one of the layer’s complex operations which is performed here.  

- #### Network Access Layer:  
Also known as the Link Layer, it encompasses the Data Link and Physical layers of the OSI model.  
Handling of hardware-level framing and addressing them to the network’s transmittable medium via physical links and connections is performed here.  

### The Three-way Handshake of TCP  


> <img src="https://cdn.discordapp.com/attachments/608041449421799426/1160920762379669646/image.png" />  
 Inspecting this sample Wireshark capture, we can see the whole process of TCP connection lifecycle happen.  

The three-way handshake outlines well the cornerstone of TCP and its fundamentals when establishing a network flow featuring reliable, ordered and error-checking data stream between a client and a server.


---  

And here we can see the flow chart of these transactions:  
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1160920328118218842/flow_pouta_png.png" />  


#### TCP SYN bit:  
During the initiation of a TCP connection, both parties must align their individual ***Sequence Numbers*** *(****SEQ****)*, a process encapsulated by the term **"SYN"**, which stands for "***Synchronize Sequence Numbers***."  
> **SYN, SYN-ACK, ACK**  

This occurs at the very start of a new stream, where the packets do not yet contain a payload, but contain relevant parameters embedded in the packet’s header.  
As stated, the **SYN Bit** itself situated in the ***Flags*** section of a TCP header. When this flag is set to 1, specifying a random ***Initial Sequence Number*** (**ISN**) it is marked as the starting point for the sequence.  
Upon receiving the SYN packet, the server **ACK**nowledges the sender’s sequence number and in return, reciprocates by sending its own sequence number aswell as acknowledgement of the previously received sequence number.  
Then in the last stages, the client obtains a package containing both server participant’s sequence number in conjunction with confirmation that the server has acknowledged client’s sequence number.  
Handshake is completed as the final acknowledgement confirming that the server’s sequence number was received by the client.

#### TCP ACK and SEQ numbering:  
Inventive architecture of TCP allows for reliable data transmission over unreliable networks. In this context, a few noteworthy characteristic would be crucial to understand from its well-known idiosyncratic mechanisms.  
**ACK** acknowledges the receipt of bytes and indicates the next byte that is to be expected. Sequentially, it signifies that all bytes up to (**ACK** - 1) have been successfully received. The server is then expected to base its next transmission on this corresponding ACK number.  

**SEQ** signifies the ordinal position of the first byte in that segment within the relation to the overall byte stream of the connection.  Essentially tagging the first byte makes the connection ***Stateful*** considering that respective subsequent packets are incremented for bytes of the transmitted payload.  
Any loss of transmitted data results in desynchronization of mutually agreed upon metered sequence numbering. This breaks the implicity of one either parties previously aligned SEQ- counter, which then triggers a conditional routine informing the peer of the last undisrupted packet sequence number by annoting the request for retransmission starting from that ordinal position.  

#### TCP connection states LISTENING and ESTABLISHED:  
Before a live connection can be set up, must there be a server application ready to receive incoming connections for the requested service on its designated port.  
As this server-side application is tethered to an addressable network location, and in fact is prepared to entertain inbound connection requests with an outbound capable service application, answering the requested SYN with a corresponding ACK. This effectively informs the requesting party of remote application’s availability over specified route, therefore symbolizing the state-describing abstraction that the connected peer is ***LISTENING***  

Moving forward, presuming both parties successfully concluded the aforementioned handshake, endpoints transition from a state of **LISTENING** to ***ESTABLISHED***. This shift demarcates the instantiation of a fully functional TCP communication channel.  

---  
  

| ![TCP State Diagram](https://media.discordapp.net/attachments/608041449421799426/1146275353321553920/RLJDZjCm4BxxAOQzqeAsnnxGbZQ8YD95cy0A2IboasdNuDYLFL0Gujtnk9PbGa_jpFVZ-HdbpfDqz7tKuXazuOZGEveV7Q8Hf4WZjEiFq90aX8sIHoT78Up-A_O4D-ljVLDjlfWRa1vwRJqEy5lKGr1vLip0MEYjCO6jhF4ln9-iRJxlkgRQjKdjVvdEeo7M6qLAQWWCuDHKzL2jg_fJ.png) |
|:--:|
| This diagram visually represents the TCP connection lifecycle from a client's perspective, delineating each state transition from initiation to termination. |  

#### TCP&UDP Source port:  
-
#### TCP&UDP Source destination:  
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1160345893904601158/RSXDIA1.PNG" />  

-

### Netstat  
#### Netstat command options and information  
-
<img src="https://cdn.discordapp.com/attachments/608041449421799426/1160306731507781773/image.png" />

### Overview of service ports over TCP  

#### Ports: 22, 23, 25, 80, 443, 445, 3306:  
-

### Outlining some UDP specifics  
#### UDP being *”connectionless”*:  
-
#### UDP Lack flow-control features:  
-
#### UDP services prefer max 512 byte datagrams:  
-
#### Cases where using UDP is more beneficial than TCP:  
-
### Advanced TCP and UDP features  
-
#### TCP header length without extra options:  
-
##### **UDP header length without extra options** :  
-
#### Evaluating Nagle’s algorithm on TCP:  
-
#### Use of *“keepalive”* mechanism to maintain established connection:  
-
#### Raw sockets:  
-
---

Continues later...
